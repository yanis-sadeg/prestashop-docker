# ======================================
# Configuration SSL / Traefik
# ======================================
# En développement : localhost
# En production : votre-domaine.com
DOMAIN=localhost

# Email pour Let's Encrypt (production uniquement)
# Utilisé pour les notifications de renouvellement de certificat
LETSENCRYPT_EMAIL=admin@localhost

# ======================================
# Configuration PHP
# ======================================
# Adaptez ces valeurs selon votre environnement (dev/prod)

# Memory & Performance
PHP_MEMORY_LIMIT=512M              # Prod recommandé: 256M ou 512M
PHP_MAX_EXECUTION_TIME=600         # Prod recommandé: 300
PHP_MAX_INPUT_TIME=600             # Prod recommandé: 300
PHP_MAX_INPUT_VARS=10000           # PrestaShop nécessite une valeur élevée

# Upload & Post
PHP_UPLOAD_MAX_FILESIZE=64M        # Prod recommandé: 32M ou 64M
PHP_POST_MAX_SIZE=64M              # Doit être >= upload_max_filesize

# Error Reporting
# DEV: On / E_ALL  |  PROD: Off / E_ALL & ~E_DEPRECATED & ~E_STRICT
PHP_DISPLAY_ERRORS=On              # PROD: Off
PHP_DISPLAY_STARTUP_ERRORS=On      # PROD: Off
PHP_ERROR_REPORTING=E_ALL          # PROD: E_ALL & ~E_DEPRECATED & ~E_STRICT

# Session
PHP_SESSION_GC_MAXLIFETIME=1440
PHP_SESSION_COOKIE_LIFETIME=0
PHP_SESSION_COOKIE_SECURE=Off           # DEV: Off (no HTTPS) | PROD: On
PHP_SESSION_COOKIE_SAMESITE=Lax         # DEV: Lax | PROD: Strict

# Timezone
PHP_TIMEZONE=Europe/Paris

# Security - Disable dangerous functions (empty in dev for flexibility)
# In production, set to disable dangerous functions
PHP_DISABLE_FUNCTIONS=

# Realpath Cache (améliore les performances)
PHP_REALPATH_CACHE_SIZE=4096k
PHP_REALPATH_CACHE_TTL=600

# OPcache Configuration (CRITIQUE pour la production)
PHP_OPCACHE_ENABLE=1                    # Toujours 1 en production
PHP_OPCACHE_MEMORY=256                  # MB - Prod recommandé: 256
PHP_OPCACHE_INTERNED_STRINGS=16         # MB
PHP_OPCACHE_MAX_FILES=20000
PHP_OPCACHE_REVALIDATE_FREQ=2           # Secondes
# validate_timestamps: 1 en dev (détecte les changements), 0 en prod (meilleure performance)
PHP_OPCACHE_VALIDATE_TIMESTAMPS=1       # DEV: 1  |  PROD: 0

# ======================================
# Build Arguments
# ======================================
# Installation de Xdebug (true en dev, false en prod pour les performances)
INSTALL_XDEBUG=true                     # PROD: false

# ======================================
# SMTP Configuration
# ======================================
# DEV: Using Mailhog (local email testing - no real emails sent)
# PROD: Use real SMTP server (Gmail, SendGrid, AWS SES, Mailgun, etc.)

# SMTP Server
SMTP_HOST=mailhog                       # DEV: mailhog | PROD: smtp.gmail.com, smtp.sendgrid.net, etc.
SMTP_PORT=1025                          # DEV: 1025 | PROD: 587 (TLS) or 465 (SSL)

# SMTP Authentication
SMTP_USER=                              # PROD: your SMTP username/email
SMTP_PASSWORD=                          # PROD: your SMTP password/API key
SMTP_ENCRYPTION=none                    # DEV: none | PROD: tls or ssl
SMTP_AUTH=false                         # DEV: false | PROD: true
